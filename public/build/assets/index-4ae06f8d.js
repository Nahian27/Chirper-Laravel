import{q as j,r as f,W as u,j as e,a as y}from"./app-80369c0e.js";import{D as r,A as b}from"./AuthenticatedLayout-7e6986d6.js";import{I as g}from"./InputError-3c412dca.js";import{P as h}from"./PrimaryButton-f6459f47.js";import"./ApplicationLogo-8c77846d.js";import"./transition-6c8159d1.js";function v({chirp:s}){const{auth:o}=j().props,[n,a]=f.useState(!1),{data:i,setData:l,patch:d,clearErrors:c,reset:m,errors:t}=u({message:s.message}),p=x=>{x.preventDefault(),d(route("chirps.update",s.id),{onSuccess:()=>a(!1)})};return e.jsxs("div",{className:"p-6 my-4 flex space-x-2 bg-gray-800 rounded-lg border border-gray-500",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400 -scale-x-100",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:s.user.name}),e.jsx("small",{className:"ml-2 text-sm text-gray-600",children:new Date(s.created_at).toLocaleString()}),s.created_at!==s.updated_at&&e.jsx("small",{className:"text-sm text-gray-600",children:" Â· edited"})]}),s.user.id===o.user.id&&e.jsxs(r,{children:[e.jsx(r.Trigger,{children:e.jsx("button",{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})})}),e.jsxs(r.Content,{children:[e.jsx("button",{className:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-300 hover:bg-gray-800 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:()=>a(!0),children:"Edit"}),e.jsx(r.Link,{as:"button",href:route("chirps.destroy",s.id),method:"delete",children:"Delete"})]})]})]}),n?e.jsxs("form",{onSubmit:p,children:[e.jsx("textarea",{value:i.message,onChange:x=>l("message",x.target.value),className:"mt-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"}),e.jsx(g,{message:t.message,className:"mt-2"}),e.jsxs("div",{className:"space-x-2",children:[e.jsx(h,{className:"mt-4",children:"Save"}),e.jsx("button",{className:"mt-4",onClick:()=>{a(!1),m(),c()},children:"Cancel"})]})]}):e.jsx("p",{className:"mt-4 text-lg text-gray-400",children:s.message})]})]})}function S({auth:s,chirp:o}){const{data:n,setData:a,post:i,processing:l,reset:d,errors:c}=u({message:""}),m=t=>{t.preventDefault(),i(route("chirps.store"),{onSuccess:()=>d()})};return e.jsxs(b,{user:s.user,children:[e.jsx(y,{title:"Chirps"}),e.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[e.jsxs("form",{onSubmit:m,children:[e.jsx("textarea",{value:n.message,placeholder:"What's on your mind?",className:"block w-full bg-gray-800 border-gray-600 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:t=>a("message",t.target.value)}),e.jsx(g,{message:c.message,className:"mt-2"}),e.jsx(h,{className:"mt-4",disabled:l,children:"Chirp"})]}),e.jsx("div",{className:"mt-6 divide-y",children:o.map(t=>e.jsx(v,{chirp:t},t.id))})]})]})}export{S as default};
